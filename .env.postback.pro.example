# ========================================
# PRO S2S Postback System Configuration
# ========================================

# ========== Database ==========
DATABASE_URL=mysql://username:password@localhost:3306/gambling_bot

# ========== Telegram Bot ==========
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# ========== Secret Keys (от партнеров) ==========
# Получить у каждого партнера и добавить сюда

# 1Win
POSTBACK_SECRET_1WIN=your-secret-key-from-1win-api

# Stake
POSTBACK_SECRET_STAKE=your-secret-key-from-stake-api

# Roobet
POSTBACK_SECRET_ROOBET=your-secret-key-from-roobet-api

# ========== Encryption (для будущих расширений) ==========
# Генерировать: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-encryption-key-here

# ========== Rate Limiting ==========
# Максимум запросов в минуту (по умолчанию 100)
POSTBACK_RATE_LIMIT_MAX_REQUESTS=100

# Временное окно в секундах (по умолчанию 60)
POSTBACK_RATE_LIMIT_WINDOW=60

# ========== VIP Configuration ==========
# Длительность VIP при первом депозите (в часах)
POSTBACK_VIP_DURATION_HOURS=48

# ========== Timestamp Validation ==========
# Максимальный возраст события в секундах (по умолчанию 300 = 5 минут)
POSTBACK_MAX_EVENT_AGE_SECONDS=300

# ========== Logging ==========
# Уровень логирования: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Путь к файлу логов
LOG_FILE=logs/postback.log

# ========== Monitoring ==========
# Отправлять уведомления об ошибках
POSTBACK_ERROR_NOTIFICATIONS=true

# Email для уведомлений (опционально)
POSTBACK_ERROR_EMAIL=admin@example.com

# ========== Development ==========
# Включить тестовый endpoint (/api/postback/test)
POSTBACK_TEST_ENDPOINT_ENABLED=true

# Использовать тестовый secret key для тестирования
POSTBACK_TEST_SECRET_KEY=test-secret-key-for-testing

# ========== Примеры IP адресов партнеров ==========
# Обновить реальными IP адресами!

# 1Win IP адреса (примеры)
# POSTBACK_1WIN_IPS=1.2.3.4,5.6.7.8,9.10.11.12

# Stake IP адреса (примеры)
# POSTBACK_STAKE_IPS=10.11.12.13,14.15.16.17

# Roobet IP адреса (примеры)
# POSTBACK_ROOBET_IPS=20.21.22.23,24.25.26.27

# ========== Backup & Cleanup ==========
# Автоматически удалять логи старше N дней
POSTBACK_LOG_RETENTION_DAYS=90

# ========== Advanced ==========
# Использовать асинхронную обработку
POSTBACK_ASYNC_PROCESSING=true

# Максимум одновременных обработок
POSTBACK_MAX_CONCURRENT_PROCESSING=10

# ========== Notes ==========
# 1. Получить secret keys у каждого партнера
# 2. Обновить IP адреса партнеров
# 3. Протестировать все endpoints
# 4. Проверить логи аудита
# 5. Настроить мониторинг и уведомления
# 6. Развернуть в production
